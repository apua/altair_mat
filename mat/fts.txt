*** Settings ***
Library     Altair
Library     Altair.utils
Variables   test_data.py
Suite Setup     Login Altair
Suite Teardown  Logout Altair

*** Variables ***
${appliance IP}=    ${basic_information['appliance_ip']}
${username}=        ${basic_information['username']}
${password}=        ${basic_information['password']}
${osbps_path}=      ../osbps/20150630.txt

*** Keywords ***
Login Altair
    set appliance IP    ${appliance IP}
    login   ${username}     ${password}

Logout Altair
    logout
    ${session_id}=      Get session id
    #Should be equal     ${session_id}       None

*** Test Cases ***
Check connection
    ${session_id}=          Get session ID
    Should not be equal     ${session_id}   None

Set facility attributes
    [Tags]      ignore
    Log to console              [7mMedia Settings[m
    Set media settings          ${media_settings}

    Log to console              [7mProduct Keys[m
    Set product keys            ${product_keys}

    Log to console              [7mFacility Attributes[m
    Set facility attributes     ${facility_attributes}

    ${act_status}=      Get activation status
    Run keyword IF      "${act_status}"!="activated"
    ...                 Set activation key      ${activation_key}

    Log to console              [7mPXE Boot Default[m
    Set pxeboot default         ${pxeboot_default}

Upload WinPE
    [Tags]      ignore
    Upload WinPE    ${winpe_source}

Add users
    [Tags]      ignore
    Set users     ${users}

Add customized OSBPs
    [Tags]      ignore
    #${osbps}=       Export custom OSBPs
    #Log to console  ${osbps}
    ${osbps}=   Get config      ${osbps_path}
    Import custom OSBPs         ${osbps}

Add SUT 0
    [Tags]      ignore
    ${status}=          Add SUT         ${suts[0]}
    Should be equal     ${status}       ok

Add SUT 1
    [Tags]      ignore
